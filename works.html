<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AM | Works</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="Sequel sans/style.css">
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <link rel="stylesheet" href="animated-background.css">
    <script src="animated-background.js"></script>
    <style>
        body {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            transition: background-color 0.3s ease;
        }

        .work-list {
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 40px 0;
        }

        .work-list a {
            text-decoration: none;
            color: #fff;
            width: 92%;
            height: 75px;
            background-color: #000;
            border: 2px solid #fff;
            border-radius: 5px 5px 10px 10px;
            position: relative;
            overflow: visible;
            display: flex;
            align-items: center;
            padding: 0 15px;
            margin-bottom: -60px;
            z-index: 1;
            /* transform: translateY(0); */
            transform: translateY(0px) rotateX(10deg) rotateY(7deg) !important;
            transition: transform 0.3s ease, background-color 0.3s ease !important;
            --label-bgcolor: #000; /* Default label background color */
        }

        .work-list a:hover {
            transform: translateY(-10px) !important;
        }

        .work-list a:hover span {
            
        }

        .work-list a:last-child {
            margin-bottom: 0;
        }

        .work-list a::before {
            content: '';
            position: absolute;
            top: -32px;
            height: 30px;
            background-color: var(--label-bgcolor);
            border: 2px solid #fff;
            border-bottom: none;
            border-radius: 10px 10px 0 0;
            z-index: 2;
            width: var(--label-width, auto);
            transition: background-color 0.3s ease !important;
        }

        .work-list a:nth-child(3n)::before {
            left: 20px;
        }

        .work-list a:nth-child(3n+1)::before {
            left: 50%;
            transform: translateX(-50%);
        }

        .work-list a:nth-child(3n+2)::before {
            right: 20px;
        }

        .work-list a span {
            position: absolute;
            top: -25px;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 14px;
            z-index: 3;
            padding: 0 10px;
            white-space: nowrap;
            display: flex;
            align-items: center;
            height: 30px;
            transition: transform 0.3s ease;
        }

        .work-list a:nth-child(3n) span {
            left: 22px;
            justify-content: flex-start;
        }

        .work-list a:nth-child(3n+1) span {
            left: 50%;
            transform: translateX(-50%);
            justify-content: center;
        }

        .work-list a:nth-child(3n+2) span {
            right: 22px;
            justify-content: flex-end;
        }

        .selected-works-arrow {
            width: 20px;
            height: 20px;
            margin-left: auto;
            transition: transform 0.3s ease; /* Add transition for smooth movement */
        }

        .work-list a:hover .selected-works-arrow {
            transform: translateX(5px); /* Move arrow right 5px on hover */
        }
    </style>
</head>

<script src="./projects.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Define the SVG conten
        const svgContent = `
            <svg class="selected-works-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                <path style="fill:#fff" d="m17.5 5.999-.707.707 5.293 5.293H1v1h21.086l-5.294 5.295.707.707L24 12.499l-6.5-6.5z" data-name="Right" />
            </svg>
        `;

        // Generate project links
        const workList = document.querySelector('.work-list');
        projects.forEach(project => {
            const projectLink = document.createElement('a');
            projectLink.href = `./project.html?p=${project.number}`;
            projectLink.innerHTML = `
                <span>${project.name}</span>
                ${svgContent}
            `;
            workList.appendChild(projectLink);
        });

        // Adjust label width to fit text
        document.querySelectorAll('.work-list a').forEach(folder => {
            const label = folder.querySelector('span');
            const labelWidth = label.offsetWidth + 20; // Add some padding
            folder.style.setProperty('--label-width', `${labelWidth}px`);
        });
    });
</script>

<script src="./transition.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const workLinks = document.querySelectorAll('.work-list a');
        let hoverTimer;

        workLinks.forEach(link => {
            link.addEventListener('mouseenter', function() {
                clearTimeout(hoverTimer);
                hoverTimer = setTimeout(() => {
                    const projectNumber = this.href.split('p=')[1];
                    const project = projects.find(p => p.number === projectNumber);
                    if (project && project.bgcolor) {
                        requestAnimationFrame(() => {
                            this.style.setProperty('background-color', project.bgcolor, 'important');
                            this.style.setProperty('--label-bgcolor', project.bgcolor, 'important');
                        });
                    }
                }, 500);
            });

            link.addEventListener('mouseleave', function() {
                clearTimeout(hoverTimer);
                requestAnimationFrame(() => {
                    this.style.removeProperty('background-color');
                    this.style.setProperty('--label-bgcolor', '', 'important');
                });
            });
        });
    });
</script>

<body>
    <div class="main-page">

        <div class="main-page-info">
            <nav style="line-height: 0.5rem;">
                <h1>
                    <span>
                        <a href="./index.html" class="atag">INDEX</a>
                        <span style="margin-left: 5px; margin-right: 5px; font-size: 14px;">></span>
                        <span>SELECTED WORKS</span>
                    </span>
                    <svg class="main-page-info-star" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
                        <path fill="#fff" stroke="#000" stroke-width=".3"
                            d="m9.145 7.98 3.069 4.394-2.019 1.415-3.07-4.638-.124-.188-.126.188-3.07 4.589-2.02-1.415 3.021-4.346.116-.167-.193-.061-4.54-1.444.745-2.341L5.57 5.602l.2.071V.15H8.18v5.522l.2-.07 4.685-1.636.745 2.34-4.588 1.445-.195.06.117.168Z">
                        </path>
                    </svg>
                </h1>

                <div class="work-list">
                    <!-- Project links will be dynamically inserted here -->
                </div>
                <h1><a href="./contact.html" class="atag">CONTACT</a>// <a href="./about.html" class="atag">INFO</a></h1>
                <h1></h1>
                <h1></h1>
            </nav>
        </div>


    </div>
</body>

</html>
