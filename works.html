<script>

    let activeIndex = 0;

    const slides = document.getElementsByTagName("article");

    const handleLeftClick = () => {
        const nextIndex = activeIndex - 1 >= 0 ? activeIndex - 1 : slides.length - 1;

        const currentSlide = document.querySelector(`[data-index="${activeIndex}"]`),
            nextSlide = document.querySelector(`[data-index="${nextIndex}"]`);

        currentSlide.dataset.status = "after";

        nextSlide.dataset.status = "becoming-active-from-before";

        setTimeout(() => {
            nextSlide.dataset.status = "active";
            activeIndex = nextIndex;
        });
    }

    const handleRightClick = () => {
        const nextIndex = activeIndex + 1 <= slides.length - 1 ? activeIndex + 1 : 0;

        const currentSlide = document.querySelector(`[data-index="${activeIndex}"]`),
            nextSlide = document.querySelector(`[data-index="${nextIndex}"]`);

        currentSlide.dataset.status = "before";

        nextSlide.dataset.status = "becoming-active-from-after";

        setTimeout(() => {
            nextSlide.dataset.status = "active";
            activeIndex = nextIndex;
        });
    }

    /* -- Mobile Nav Toggle -- */

    const nav = document.querySelector("nav");

    const handleNavToggle = () => {
        nav.dataset.transitionable = "true";

        nav.dataset.toggled = nav.dataset.toggled === "true" ? "false" : "true";
    }

    window.matchMedia("(max-width: 800px)").onchange = e => {
        nav.dataset.transitionable = "false";

        nav.dataset.toggled = "false";
    };
</script>


<style>
    ::selection {
        background-color: rgba(219, 141, 52, 0.5);
        /* RGBA with 50% opacity */
        color: #fff;
        /* New text color */
    }


    h1{
        font-size: 10vh;
        padding-left: 2rem;
        line-height: 0.1vh;
    }

    h1,
    h2,
    h3,
    a,
    p,
    span {
        font-weight: 400;
        color: #333;
        font-family: "Rubik", sans-serif;
    }

    a {
        text-decoration: none;
    }

    * {
        box-sizing: border-box;
    }

    :root {
        --bgcolor: #f5f5e1;
        --bordcolor: #92929246;
    }

    body {
        background-color: var(--bgcolor);
        display: flex;
        flex-direction: column;
        height: 100vh;
        margin: 0px;
        overflow: hidden;
    }

    nav {
        display: flex;
        width: 100%;
        border-bottom: 1px solid var(--bordcolor);
        height: 5.8rem; /*Idk abt this*/
    }

    #nav-logo-section {
        font-size: 4rem;
        justify-content: flex-start;
    }

    #nav-link-section {
        gap: 6rem;
    }

    #nav-social-section {
        gap: 3rem;
    }

    #nav-logo-section,
    #nav-link-section {
        flex-basis: calc(100% / 3);
    }

    #nav-social-section,
    #nav-contact-section {
        flex-grow: 1;
    }

    nav>.nav-section {
        padding: 3rem 2rem;
        display: flex;
        gap: 1rem;
        border-left: 1px solid var(--bordcolor);
        align-items: center;
        justify-content: center;
    }

    main {
        flex-grow: 1;
        position: relative;
    }

    main>article {
        display: grid;
        width: 100%;
        height: 100%;
        grid-template-columns: 2fr 1fr;
        grid-template-rows: 3.5fr 1fr;
        position: absolute;
        left: 0px;
        top: 0px;
        transition: transform 400ms ease;
    }

    main>article>.article-section {
        height: 100%;
    }

    main>article>.article-description-section,
    main>article>.article-nav-section {
        border-left: 1px solid var(--bordcolor);
    }

    main>article>.article-title-section,
    main>article>.article-nav-section {
        border-top: 1px solid var(--bordcolor);
    }

    .article-nav-section {
        display: flex;
    }

    .article-nav {
        display: flex;
        width: 50%;
        align-items: center;
        justify-content: center;
    }

    .nav-left {
        border-right: 1px solid var(--bordcolor);
    }



    main>article[data-status="inactive"] {
        transform: translateX(-100%);
        transition: none;
    }

    main>article[data-status="active"] {
        transform: translateX(0%);
    }

    main>article[data-status="before"] {
        transform: translateX(-100%);
    }

    main>article[data-status="after"] {
        transform: translateX(100%);
    }

    main>article[data-status="becoming-active-from-before"] {
        transform: translateX(-100%);
        transition: none;
    }

    main>article[data-status="becoming-active-from-after"] {
        transform: translateX(100%);
        transition: none;
    }


    .article-title-section {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        height: 10px;
    }

    .article-description-section {
        display: flex;
        justify-content: center;
        align-items: center;
        padding-left: 7rem;
        padding-right: 7rem;
        font-size: 1rem;
        padding-top: 2rem;
        padding-bottom: 2rem;
        font-family: 'Courier New', Courier, monospace;
    }

    .article-image-section {
        display: flex;
        justify-content: center;
        align-items: center;
        transition: 400ms ease;
        overflow: hidden;
    }

    .article-image-section>img {
        max-width: 100%;
        transition: 400ms ease;
    }

    .article-image-section>img:hover {
        filter: brightness(60%) blur(3px);
    }

    .article-image-section>p {
        pointer-events: none;
        opacity: 0%;
        z-index: 1;
        display: flex;
        position: absolute;
        color: rgb(233, 233, 233);
        transition: 400ms ease;
        font-size: 3rem;
    }

    .article-image-section>img:hover+.hovertext {
        opacity: 100%;
    }
</style>


<body>


    <nav>
        <div id="nav-logo-section" class="nav-section">
            <a href="#">
                PORTFOLIO
            </a>
        </div>
        <div id="nav-link-section" class="nav-section">
            <a href="">ABOUT</a>
            <a href="">CONTACT</a>

        </div>
        <div id="nav-social-section" class="nav-section">
            <a href="">S1</a>
            <a href="">S2</a>
            <a href="">S3</a>
        </div>
        <div id="nav-contact-section" class="nav-section">
            <a href="../">Back</a>
        </div>
    </nav>


    <main>



        <!--Primo-->
        <article data-index="0" data-status="active">
            <div class="article-image-section article-section">
                <img src="images/testimg.jpg" alt="">
                <p class="hovertext">OPEN ME</p>
            </div>

            <div class="article-description-section article-section">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vestibulum ex quam, vitae fermentum
                dolor posuere in. Sed non interdum nisl, sed laoreet nisi. Suspendisse euismod eget turpis non
                hendrerit. Praesent in diam id ex consequat placerat. Sed venenatis eros quis semper placerat. Vivamus
                pharetra turpis et tincidunt rhoncus. Aenean rhoncus ligula vel nisl pharetra, id interdum magna
                pretium. Vivamus nisi magna, pellentesque non lacus sit amet, euismod malesuada lectus.


                <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vestibulum ex quam, vitae fermentum
                dolor posuere in. Sed non interdum nisl, Aenean rhoncus ligula vel nisl pharetra, id interdum magna
                pretium. Vivamus nisi magna, pellentesque non lacus sit amet, euismod malesuada lectus.
            </div>
            <div class="article-title-section article-section"><h1>Should be a title</h1></div>
            <div class="article-nav-section article-section">
                <div class="article-nav nav-left" onclick="handleLeftClick()">A</div>
                <div class="article-nav right" onclick="handleRightClick()">B</div>
            </div>
        </article>


        <!--Primo-->
        <article data-index="1" data-status="inactive">
            <div class="article-image-section article-section">
                <img src="images/testimg2.jpg" alt="">
                <p class="hovertext">OPEN ME</p>
            </div>

            <div class="article-description-section article-section">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vestibulum ex quam, vitae fermentum
                dolor posuere in. Sed non interdum nisl, sed laoreet nisi. Suspendisse euismod eget turpis non
                hendrerit. Praesent in diam id ex consequat placerat. Sed venenatis eros quis semper placerat. Vivamus
                pharetra turpis et tincidunt rhoncus. Aenean rhoncus ligula vel nisl pharetra, id interdum magna
                pretium. Vivamus nisi magna, pellentesque non lacus sit amet, euismod malesuada lectus.


                <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vestibulum ex quam, vitae fermentum
                dolor posuere in. Sed non interdum nisl, Aenean rhoncus ligula vel nisl pharetra, id interdum magna
                pretium. Vivamus nisi magna, pellentesque non lacus sit amet, euismod malesuada lectus.
            </div>
            <div class="article-title-section article-section"><h1>Should be a title</h1></div>
            <div class="article-nav-section article-section">
                <div class="article-nav nav-left" onclick="handleLeftClick()">A</div>
                <div class="article-nav right" onclick="handleRightClick()">B</div>
            </div>
        </article>

    </main>


</body>